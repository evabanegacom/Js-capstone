{"code":"!function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=0)}([function(e,t){let i,s=[300,300],a=80,r=[80,300],o=[90,300],n=[-5,5],h=20,l=[.4,.8],d=900,p=400,c=200,u=2,f=25,m=25;window.onload=function(){let e={type:Phaser.AUTO,width:1450,height:700,scene:[y,g],backgroundColor:821447,physics:{default:\"arcade\"}};i=new Phaser.Game(e),window.focus(),P(),window.addEventListener(\"resize\",P,!1)};class y extends Phaser.Scene{constructor(){super(\"PreloadGame\")}preload(){this.load.image(\"platform\",\"assets/platform.png\"),this.load.spritesheet(\"player\",\"assets/player.png\",{frameWidth:24,frameHeight:48}),this.load.spritesheet(\"coin\",\"assets/coin.png\",{frameWidth:20,frameHeight:20}),this.load.spritesheet(\"fire\",\"assets/fire.png\",{frameWidth:40,frameHeight:70}),this.load.spritesheet(\"mountain\",\"assets/mountain.png\",{frameWidth:512,frameHeight:512})}create(){this.anims.create({key:\"run\",frames:this.anims.generateFrameNumbers(\"player\",{start:0,end:1}),frameRate:8,repeat:-1}),this.anims.create({key:\"rotate\",frames:this.anims.generateFrameNumbers(\"coin\",{start:0,end:5}),frameRate:15,yoyo:!0,repeat:-1}),this.anims.create({key:\"burn\",frames:this.anims.generateFrameNumbers(\"fire\",{start:0,end:4}),frameRate:15,repeat:-1}),this.scene.start(\"PlayGame\")}}class g extends Phaser.Scene{constructor(){super(\"PlayGame\")}create(){this.mountainGroup=this.add.group(),this.platformGroup=this.add.group({removeCallback:function(e){e.scene.platformPool.add(e)}}),this.platformPool=this.add.group({removeCallback:function(e){e.scene.platformGroup.add(e)}}),this.coinGroup=this.add.group({removeCallback:function(e){e.scene.coinPool.add(e)}}),this.coinPool=this.add.group({removeCallback:function(e){e.scene.coinGroup.add(e)}}),this.fireGroup=this.add.group({removeCallback:function(e){e.scene.firePool.add(e)}}),this.firePool=this.add.group({removeCallback:function(e){e.scene.fireGroup.add(e)}}),this.addMountains(),this.addedPlatforms=0,this.playerJumps=0,this.addPlatform(i.config.width,i.config.width/2,i.config.height*l[1]),this.player=this.physics.add.sprite(c,.7*i.config.height,\"player\"),this.player.setGravityY(d),this.player.setDepth(2),this.dying=!1,this.platformCollider=this.physics.add.collider(this.player,this.platformGroup,(function(){this.player.anims.isPlaying||this.player.anims.play(\"run\")}),null,this),this.physics.add.overlap(this.player,this.coinGroup,(function(e,t){this.tweens.add({targets:t,y:t.y-100,alpha:0,duration:800,ease:\"Cubic.easeOut\",callbackScope:this,onComplete:function(){this.coinGroup.killAndHide(t),this.coinGroup.remove(t)}})}),null,this),this.physics.add.overlap(this.player,this.fireGroup,(function(e,t){this.dying=!0,this.player.anims.stop(),this.player.setFrame(2),this.player.body.setVelocityY(-200),this.physics.world.removeCollider(this.platformCollider)}),null,this),this.input.on(\"pointerdown\",this.jump,this)}addMountains(){let e=this.getRightmostMountain();if(e<2*i.config.width){let t=this.physics.add.sprite(e+Phaser.Math.Between(100,350),i.config.height+Phaser.Math.Between(0,100),\"mountain\");t.setOrigin(.5,1),t.body.setVelocityX(-1*a),this.mountainGroup.add(t),Phaser.Math.Between(0,1)&&t.setDepth(1),t.setFrame(Phaser.Math.Between(0,3)),this.addMountains()}}getRightmostMountain(){let e=-200;return this.mountainGroup.getChildren().forEach((function(t){e=Math.max(e,t.x)})),e}addPlatform(e,t,i){let a;if(this.addedPlatforms++,this.platformPool.getLength()){a=this.platformPool.getFirst(),a.x=t,a.y=i,a.active=!0,a.visible=!0,this.platformPool.remove(a);a.displayWidth;a.displayWidth=e,a.tileScaleX=1/a.scaleX}else a=this.add.tileSprite(t,i,e,32,\"platform\"),this.physics.add.existing(a),a.body.setImmovable(!0),a.body.setVelocityX(-1*Phaser.Math.Between(s[0],s[1])),a.setDepth(2),this.platformGroup.add(a);if(this.nextPlatformDistance=Phaser.Math.Between(r[0],r[1]),this.addedPlatforms>1){if(Phaser.Math.Between(1,100)<=f)if(this.coinPool.getLength()){let e=this.coinPool.getFirst();e.x=t,e.y=i-96,e.alpha=1,e.active=!0,e.visible=!0,this.coinPool.remove(e)}else{let e=this.physics.add.sprite(t,i-96,\"coin\");e.setImmovable(!0),e.setVelocityX(a.body.velocity.x),e.anims.play(\"rotate\"),e.setDepth(2),this.coinGroup.add(e)}if(Phaser.Math.Between(1,100)<=m)if(this.firePool.getLength()){let s=this.firePool.getFirst();s.x=t-e/2+Phaser.Math.Between(1,e),s.y=i-46,s.alpha=1,s.active=!0,s.visible=!0,this.firePool.remove(s)}else{let s=this.physics.add.sprite(t-e/2+Phaser.Math.Between(1,e),i-46,\"fire\");s.setImmovable(!0),s.setVelocityX(a.body.velocity.x),s.setSize(8,2,!0),s.anims.play(\"burn\"),s.setDepth(2),this.fireGroup.add(s)}}}jump(){!this.dying&&(this.player.body.touching.down||this.playerJumps>0&&this.playerJumps<u)&&(this.player.body.touching.down&&(this.playerJumps=0),this.player.setVelocityY(-1*p),this.playerJumps++,this.player.anims.stop())}update(){this.player.y>i.config.height&&this.scene.start(\"PlayGame\"),this.player.x=c;let e=i.config.width,t=0;if(this.platformGroup.getChildren().forEach((function(s){let a=i.config.width-s.x-s.displayWidth/2;a<e&&(e=a,t=s.y),s.x<-s.displayWidth/2&&(this.platformGroup.killAndHide(s),this.platformGroup.remove(s))}),this),this.coinGroup.getChildren().forEach((function(e){e.x<-e.displayWidth/2&&(this.coinGroup.killAndHide(e),this.coinGroup.remove(e))}),this),this.fireGroup.getChildren().forEach((function(e){e.x<-e.displayWidth/2&&(this.fireGroup.killAndHide(e),this.fireGroup.remove(e))}),this),this.mountainGroup.getChildren().forEach((function(e){if(e.x<-e.displayWidth){let t=this.getRightmostMountain();e.x=t+Phaser.Math.Between(100,350),e.y=i.config.height+Phaser.Math.Between(0,100),e.setFrame(Phaser.Math.Between(0,3)),Phaser.Math.Between(0,1)&&e.setDepth(1)}}),this),e>this.nextPlatformDistance){let e=Phaser.Math.Between(o[0],o[1]),s=h*Phaser.Math.Between(n[0],n[1]),a=t+s,r=i.config.height*l[0],d=i.config.height*l[1],p=Phaser.Math.Clamp(a,r,d);this.addPlatform(e,i.config.width+e/2,p)}}}function P(){let e=document.querySelector(\"canvas\"),t=window.innerWidth,s=window.innerHeight,a=t/s,r=i.config.width/i.config.height;a<r?(e.style.width=t+\"px\",e.style.height=t/r+\"px\"):(e.style.width=s*r+\"px\",e.style.height=s+\"px\")}}]);","extractedComments":[]}